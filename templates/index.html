{% extends 'base.html' %}
{% block title %}Gestão App - Início{% endblock %}

{% block content %}
<!-- Logo container -->
<div class="logo-container">
    <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" class="app-logo">
</div>

<div class="container">
    <div class="icon-section">
        <button class="icon-button" onclick="handleSearch(this)" aria-label="Pesquisar">
            <svg class="search-icon" fill="currentColor" viewBox="0 0 24 24">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
        </button>

        <button class="icon-button" onclick="handleQRCode(this)" aria-label="Escanear QR Code">
            <svg class="qr-icon" fill="currentColor" viewBox="0 0 24 24">
                <path d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H9V11M15,11H17V13H15V11M19,11H21V13H19V11M5,19H7V21H5V19M3,5H9V9H3V5M5,7V7H7V7H5V7M15,3H21V9H15V3M17,5V7H19V5H17M17,19H21V21H17V19M19,17H21V19H19V17M3,15H7V21H3V15M5,17V19H5V19H7V17H5M15,15H17V17H15V15M13,17H15V19H13V17M17,17H19V17H19V19H17V17M11,15H13V17H11V15M9,19H11V21H9V19M13,19H15V21H13V19M11,7H13V9H11V7M9,3H11V5H9V3Z"/>
            </svg>
        </button>
    </div>

    <button class="text-button" onclick="handleSolicitarInsumo(this)" aria-label="Solicitar Insumo">
        Solicitar Insumo
    </button>

    <div class="bottom-section">
        <button class="text-button" onclick="handleOcorrencias(this)" aria-label="Ocorrências">
            Ocorrências
        </button>
    </div>
</div>

<button class="gestao-button" onclick="handleGestao(this)" aria-label="Gestão">
    Gestão
</button>

<style>
/* Estilos para a logo */
.logo-container {
    position: fixed;
    z-index: 1000;
}

.app-logo {
    width: auto;
    height: auto;
    max-width: 100%;
    object-fit: contain;
}

/* Desktop - Logo grande abaixo do botão Ocorrências */
@media (min-width: 768px) {
    .logo-container {
        left: 50%;
        bottom: 0;
        transform: translateX(-50%);
        width: 150px;
    }
    
    .app-logo {
        width: 150px;
        height: 150px;
        opacity: 0.9;
    }
}

/* Mobile - Logo pequena no topo */
@media (max-width: 767px) {
    .logo-container {
        top: 1rem;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
    }
    
    .app-logo {
        width: 100px;
        height: 100px;
    }
    
    /* Ajusta o container principal para dar espaço à logo no mobile */
    .container {
        margin-top: 80px;
    }
}
</style>
{% endblock %}

{% block scripts %}
<script>
    function handleSearch(button) {
        addClickEffect(button);
        window.location.href = '/busca';
    }

    function handleQRCode(button) {
        addClickEffect(button);
        window.location.href = '/qrcode';
    }

    function handleSolicitarInsumo(button) {
        addClickEffect(button);
        window.location.href = '/solicitar_insumo';
    }

    function handleOcorrencias(button) {
        addClickEffect(button);
        window.location.href = '/ocorrencias';
    }

    function handleGestao(button) {
        addClickEffect(button);
        window.location.href = '/gestao';
    }

    window.addEventListener('load', () => {
        const buttons = document.querySelectorAll('.icon-button, .text-button');
        buttons.forEach((button, index) => {
            setTimeout(() => {
                button.style.opacity = '0';
                button.style.transform = 'translateY(20px)';
                button.style.transition = 'all 0.5s ease';
                
                setTimeout(() => {
                    button.style.opacity = '1';
                    button.style.transform = 'translateY(0)';
                }, 100);
            }, index * 100);
        });
    });
</script>
{% endblock %}